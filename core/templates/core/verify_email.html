{% extends 'core/base.html' %}
{% block title %}Подтверждение почты | NutriTarget{% endblock %}
{% block content %}
<div class="container-fluid d-flex align-items-center justify-content-center" style="min-height: 90vh; background: #fdfdfd;">
    <div class="col-11 col-sm-8 col-md-6 col-lg-4">
        <div class="card border-0 shadow-lg rounded-4 overflow-hidden" style="border-top: 8px solid #D4AF37 !important;">
            <div class="card-body p-5">
                <h2 class="text-center mb-5 fw-bold" style="color: #0A192F;">Подтверждение почты</h2>
                
                {% if messages %}
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }} text-center">{{ message }}</div>
                    {% endfor %}
                {% else %}
                    <p class="text-center text-muted mb-4">На адрес <strong>{{ user_email }}</strong> отправлен 6-значный код. Пожалуйста, введите его ниже для активации аккаунта.</p>
                {% endif %}

                <form method="post">
                    {% csrf_token %}
                    <div class="mb-4">
                        <label for="code" class="form-label fw-bold">Код подтверждения</label>
                        <input type="text" name="code" id="code" class="form-control form-control-lg border-2 text-center" placeholder="XXXXXX" pattern="\d{6}" maxlength="6" required>
                    </div>
                    <button type="submit" class="btn btn-gold w-100 py-3 mt-3 fw-bold shadow-sm text-uppercase" style="letter-spacing: 1px;">Подтвердить</button>
                </form>

                <div class="text-center mt-4">
                    <p class="text-muted small">Не получили код? <a href="{% url 'register' %}" class="text-gold fw-bold text-decoration-none" onclick="alert('Код будет отправлен повторно при попытке входа или новой регистрации.');">Отправить повторно</a> (или просто попробуйте войти снова)</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}